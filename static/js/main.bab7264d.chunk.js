(this["webpackJsonptask-2"]=this["webpackJsonptask-2"]||[]).push([[0],{10:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2C9Wb",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3jZPj"}},11:function(e,a,t){e.exports={Overlay:"ModalWindow_Overlay__1dW-z",Modal:"ModalWindow_Modal__2Mek3"}},24:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__3JiM-"}},27:function(e,a,t){e.exports={loaderWrapper:"ReactLoader_loaderWrapper__p_gG5"}},28:function(e,a,t){e.exports={Button:"ButtonLoadMore_Button__lSTWh"}},29:function(e,a,t){e.exports=t(75)},34:function(e,a,t){},4:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__18101",SearchForm:"Searchbar_SearchForm__nV7XB",SearchFormButton:"Searchbar_SearchFormButton__1kXTo",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1mIqa",SearchFormInput:"Searchbar_SearchFormInput__UveuQ"}},75:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(23),c=t.n(o),l=(t(34),t(35),t(3)),s=t.n(l),u=t(12),i=t(13),m=t(5),p=t(6),h=t(7),d=t(9),g=t(8),f=t(77),v=t(4),y=t.n(v),I=function(e){var a=e.searchValue,t=e.handleChange,n=e.handleSubmit;return r.a.createElement("header",{className:y.a.Searchbar},r.a.createElement("form",{onSubmit:n,className:y.a.SearchForm},r.a.createElement("button",{type:"submit",className:y.a.SearchFormButton},r.a.createElement("span",{className:y.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{onChange:t,className:y.a.SearchFormInput,value:a,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})))},b=t(10),_=t.n(b),S=function(e){var a=e.imagesArr,t=e.onOpenModalClick;return r.a.createElement(r.a.Fragment,null,a.map((function(e){var a=e.id,n=e.webformatURL,o=e.tags;return r.a.createElement("li",{onClick:function(){return t(a)},key:a,className:_.a.ImageGalleryItem},r.a.createElement("img",{src:n,alt:o,className:_.a.ImageGalleryItemImage}))})))},E=t(24),k=t.n(E),M=function(e){var a=e.images,t=e.onOpenModal;return r.a.createElement("ul",{className:k.a.ImageGallery},r.a.createElement(S,{imagesArr:a,onOpenModalClick:t}))},O=t(25),L=t.n(O),w=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("https://pixabay.com/api/?q=".concat(a,"&page=").concat(t,"&key=").concat("14909867-6a36d78d4fd06c8c8edd1f81f","&image_type=photo&orientation=horizontal&per_page=").concat(12));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),C=t(26),j=t.n(C),B=t(27),x=t.n(B),F=function(){return r.a.createElement("div",{className:x.a.loaderWrapper},r.a.createElement(j.a,{type:"ThreeDots",color:"#ff5588",height:150,width:150}))},N=t(1),G=t.n(N),R=t(28),W=t.n(R),A=function(e){var a=e.btnAction;return r.a.createElement("button",{onClick:a,type:"button",className:W.a.Button},"Load More")};A.propType={btnAction:G.a.func};var P=A,T=t(11),Q=t.n(T),U=function(e){Object(d.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=a.call.apply(a,[this].concat(o))).overLayRef=r.a.createRef(),e.closeByEsc=function(a){var t=e.props.onClose;"Escape"===a.code&&t()},e.closeByClick=function(a){var t=e.props.onClose;a.target===a.currentTarget&&t()},e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){this.overLayRef.current.addEventListener("click",this.closeByClick),window.addEventListener("keyup",this.closeByEsc)}},{key:"componentWillUnmount",value:function(){this.overLayRef.current.removeEventListener("click",this.closeByClick),window.removeEventListener("keyup",this.closeByEsc)}},{key:"render",value:function(){var e=this.props.openImg;return r.a.createElement("div",{ref:this.overLayRef,className:Q.a.Overlay},r.a.createElement("div",{className:Q.a.Modal},r.a.createElement("img",{src:e,alt:""})))}}]),t}(n.Component);U.defaultProps={openImg:""};var D=function(e){Object(d.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={currentImages:[],currentPage:1,curentSearchQuery:"",isLoading:!1,isOpenModal:!1,modalImg:""},e.handleChange=function(a){var t=a.target.value;e.setState({curentSearchQuery:t})},e.closeModal=function(){e.setState({isOpenModal:!1})},e.openModal=function(a){var t=e.state.currentImages.find((function(e){return e.id===a}));e.setState({isOpenModal:!0,modalImg:t.largeImageURL})},e.loadImages=Object(m.a)(s.a.mark((function a(){var t,n,r,o,c,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.state,n=t.currentPage,r=t.curentSearchQuery,e.setState((function(e){return{isLoading:!e.isLoading}})),a.next=4,w(r,n);case 4:o=a.sent,c=o.data.hits,l=c.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:Object(f.a)()})})),e.setState((function(e){return{currentImages:[].concat(Object(u.a)(e.currentImages),Object(u.a)(l)),currentPage:e.currentPage+=1,isLoading:!1}}));case 8:case"end":return a.stop()}}),a)}))),e.handleLoadMore=Object(m.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.loadImages();case 2:window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 3:case"end":return a.stop()}}),a)}))),e.handleMakeNewResponce=function(a){a.preventDefault(),e.reset(),e.loadImages()},e}return Object(h.a)(t,[{key:"reset",value:function(){this.setState({currentImages:[],currentPage:1})}},{key:"render",value:function(){var e=this.state,a=e.currentImages,t=e.curentSearchQuery,n=e.isLoading,o=e.isOpenModal,c=e.modalImg;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{searchValue:t,handleChange:this.handleChange,handleSubmit:this.handleMakeNewResponce}),r.a.createElement("main",{className:"mainWrapper"},a.length>0&&r.a.createElement(M,{onOpenModal:this.openModal,images:a,handleLoadMore:this.loadImages}),o&&r.a.createElement(U,{openImg:c,onClose:this.closeModal}),n?r.a.createElement(F,null):0!==a.length&&r.a.createElement(P,{btnAction:this.handleLoadMore})))}}]),t}(n.Component);c.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.bab7264d.chunk.js.map